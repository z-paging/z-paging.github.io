"use strict";(self.webpackChunkz_paging_doc=self.webpackChunkz_paging_doc||[]).push([[757],{4746:(l,t,e)=>{e.r(t),e.d(t,{data:()=>n});const n={key:"v-fb37d6ea",path:"/api/methods/",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"Methods",slug:"methods",children:[]}],filePathRelative:"api/methods/index.md",git:{updatedTime:1629561936e3}}},377:(l,t,e)=>{e.r(t),e.d(t,{default:()=>L});var n=e(6252);const o=(0,n.uE)('<h2 id="methods" tabindex="-1"><a class="header-anchor" href="#methods" aria-hidden="true">#</a> Methods</h2><div class="custom-container tip"><p class="custom-container-title">调用方式</p><p>假设给z-paging设置ref=&quot;paging&quot;，则通过<code>this.$refs.paging.xxx()</code>方式调用</p></div><div class="custom-container danger"><p class="custom-container-title">注意</p><p>在Page的onLoad()方法中无法同步获取this.$refs，请加一个setTimeOut延时1毫秒或nextTick再调用(默认会在页面加载时自动调用reload()无须手动调用)</p></div>',3),u=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"方法名"),(0,n._)("th",null,"说明"),(0,n._)("th",null,"参数")])],-1),d=(0,n._)("tr",null,[(0,n._)("td",null,"reload"),(0,n._)("td",null,"重新加载分页数据，pageNo恢复为默认值，相当于下拉刷新的效果"),(0,n._)("td",null,"(传true或false，默认为false)reload时是否展示下拉刷新动画，默认为否")],-1),r=(0,n._)("tr",null,[(0,n._)("td",null,[(0,n.Uk)("complete或"),(0,n._)("br"),(0,n.Uk)("end")]),(0,n._)("td",null,[(0,n.Uk)("请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理"),(0,n._)("p",{style:{color:"red"}},[(0,n.Uk)("(全局错误处理：当请求失败时，也必须调用complete，可在封装的网络请求错误的地方书写："),(0,n._)("code",null,"uni.$emit('z-paging-error-emit');"),(0,n.Uk)(" 即可将当前加载中状态的z-paging设置为请求失败状态)")])]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):请求结果数组；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):是否请求成功，不填默认为true。"),(0,n._)("br"),(0,n._)("p",{style:{color:"red"}},"请求失败时直接调用：this.$refs.paging.complete(false); 即可；如果只是想表达请求结束，则调用：this.$refs.paging.complete(); 即可")])],-1),_=(0,n._)("tr",null,[(0,n._)("td",null,[(0,n.Uk)("completeByTotalCount或"),(0,n._)("br"),(0,n.Uk)("endByTotalCount")]),(0,n._)("td",null,"【通过totalCount判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理"),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):请求结果数组；"),(0,n._)("br"),(0,n.Uk)("参数2(必填):totalCount(列表总数)"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否请求成功，不填默认为true")])],-1),a=(0,n._)("tr",null,[(0,n._)("td",null,[(0,n.Uk)("completeByNoMore或"),(0,n._)("br"),(0,n.Uk)("endByNoMore")]),(0,n._)("td",null,"【自行判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理"),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):请求结果数组；"),(0,n._)("br"),(0,n.Uk)("参数2(必填):是否有更多数据，若为true则可以继续滚动到底部加载更多，但如果在某个时刻参数1传入了空数组，也代表着没有更多数据了；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否请求成功，不填默认为true")])],-1),i=(0,n._)("tr",null,[(0,n._)("td",null,[(0,n.Uk)("completeByKey或"),(0,n._)("br"),(0,n.Uk)("endByKey")]),(0,n._)("td",null,[(0,n.Uk)("【保证数据一致】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理"),(0,n._)("p",{style:{color:"red"}},[(0,n.Uk)("(关于数据一致性，请查看demo中"),(0,n._)("code",null,"consistency-demo.vue"),(0,n.Uk)("文件)")])]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):请求结果数组；"),(0,n._)("br"),(0,n.Uk)("参数2(必填):dataKey，需与:data-key绑定的一致；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否请求成功，不填默认为true")])],-1),s=(0,n._)("tr",null,[(0,n._)("td",null,"clean"),(0,n._)("td",null,"清空分页数据，pageNo恢复为默认值。"),(0,n._)("td",null,"-")],-1),p=(0,n._)("tr",null,[(0,n._)("td",null,"setLocalPaging"),(0,n._)("td",null,[(0,n.Uk)("设置本地分页，请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging作分页处理"),(0,n._)("p",{style:{color:"red"}},"（若调用了此方法，则上拉加载更多时内部会自动分页，不会触发@query所绑定的事件）")]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):请求结果数组；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):是否请求成功，不填默认为true")])],-1),c=(0,n._)("tr",null,[(0,n._)("td",null,"doLoadMore"),(0,n._)("td",null,[(0,n.Uk)("手动触发上拉加载更多(非必须，可依据具体需求使用，例如当z-paging未确定高度时，内部的scroll-view会无限增高，此时z-paging无法得知是否滚动到底部，您可以在页面的"),(0,n._)("code",null,"onReachBottom"),(0,n.Uk)("中手动调用此方法触发上拉加载更多) "),(0,n._)("p",{style:{color:"red"}},[(0,n.Uk)("ps:"),(0,n._)("code",null,"use-page-scroll"),(0,n.Uk)("需要设置为true")])]),(0,n._)("td",null,"-")],-1),k=(0,n._)("tr",null,[(0,n._)("td",null,"doChatRecordLoadMore"),(0,n._)("td",null,"手动触发滚动到顶部加载更多，聊天记录模式时有效"),(0,n._)("td",null,"-")],-1),g=(0,n._)("tr",null,[(0,n._)("td",null,"scrollToTop"),(0,n._)("td",null,"滚动到顶部"),(0,n._)("td",null,"参数1(非必填):是否有动画效果，默认为是")],-1),U=(0,n._)("tr",null,[(0,n._)("td",null,"scrollToBottom"),(0,n._)("td",null,"滚动到底部"),(0,n._)("td",null,"参数1(非必填):是否有动画效果，默认为是")],-1),h=(0,n._)("tr",null,[(0,n._)("td",null,"scrollIntoViewById"),(0,n._)("td",null,[(0,n.Uk)("滚动到指定view"),(0,n._)("p",{style:{color:"red"}},[(0,n.Uk)("(vue中有效，若此方法无效，请使用"),(0,n._)("code",null,"scrollIntoViewByNodeTop"),(0,n.Uk)(")")])]),(0,n._)("td",null,[(0,n.Uk)('参数1(必填):需要滚动的view的id值，不包含"#"；'),(0,n._)("br"),(0,n.Uk)("参数2(非必填):偏移量，单位为px，默认为0；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否有动画效果，默认为否")])],-1),b=(0,n._)("tr",null,[(0,n._)("td",null,"scrollIntoViewByNodeTop"),(0,n._)("td",null,[(0,n.Uk)("滚动到指定view"),(0,n._)("p",{style:{color:"red"}},"(vue中有效)")]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):需要滚动的view的top值(通过uni.createSelectorQuery()获取)；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):偏移量，单位为px，默认为0；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否有动画效果，默认为否")])],-1),m=(0,n._)("tr",null,[(0,n._)("td",null,"scrollIntoViewByIndex"),(0,n._)("td",null,[(0,n.Uk)("滚动到指定view"),(0,n._)("p",{style:{color:"red"}},[(0,n.Uk)('(nvue中有效)(在nvue中的cell必须设置 :ref="'),(0,n._)("code",null,"z-paging-${index}"),(0,n.Uk)('")')])]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):需要滚动的view的index(第几个)；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):偏移量，单位为px，默认为0；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否有动画效果，默认为否")])],-1),y=(0,n._)("tr",null,[(0,n._)("td",null,"scrollIntoViewByView"),(0,n._)("td",null,[(0,n.Uk)("滚动到指定view"),(0,n._)("p",{style:{color:"red"}},"(nvue中有效)")]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):需要滚动的view(通过"),(0,n._)("code",null,"this.$refs.xxx"),(0,n.Uk)("获取)；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):偏移量，单位为px，默认为0；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否有动画效果，默认为否")])],-1),v=(0,n._)("tr",null,[(0,n._)("td",null,"updatePageScrollTop"),(0,n._)("td",null,"当使用页面滚动(z-paging不固定高度)并且自定义下拉刷新时，请在页面的onPageScroll中调用此方法，告知z-paging当前的pageScrollTop，否则会导致在任意位置都可以下拉刷新"),(0,n._)("td",null,"从page的onPageScroll中获取的scrollTop")],-1),f=(0,n._)("tr",null,[(0,n._)("td",null,"updatePageScrollTopHeight"),(0,n._)("td",null,'在nvue中或使用页面滚动并且设置了slot="top"时，默认初次加载会自动获取其高度，并使内部容器下移，当slot="top"的view高度动态改变时，在其高度需要更新时调用此方法'),(0,n._)("td",null,"-")],-1),w=(0,n._)("tr",null,[(0,n._)("td",null,"updatePageScrollBottomHeight"),(0,n._)("td",null,'在nvue中或使用页面滚动并且设置了slot="bottom"时，默认初次加载会自动获取其高度，并使内部容器下移，当slot="bottom"的view高度动态改变时，在其高度需要更新时调用此方法'),(0,n._)("td",null,"-")],-1),z=(0,n._)("tr",null,[(0,n._)("td",null,"addChatRecordData"),(0,n._)("td",null,[(0,n.Uk)("添加聊天记录，"),(0,n._)("code",null,"use-chat-record-mode"),(0,n.Uk)("为true时有效")]),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):需要添加的聊天数据，可以是一条数据或一组数据；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):是否滚动到底部，不填默认为true；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否使用动画滚动到底部，不填默认为true")])],-1),x=(0,n._)("tr",null,[(0,n._)("td",null,"addDataFromTop"),(0,n._)("td",null,"从顶部添加数据，不会影响分页的pageNo和pageSize"),(0,n._)("td",null,[(0,n.Uk)("参数1(必填):需要添加的数据，可以是一条数据或一组数据；"),(0,n._)("br"),(0,n.Uk)("参数2(非必填):是否滚动到顶部，不填默认为true；"),(0,n._)("br"),(0,n.Uk)("参数3(非必填):是否使用动画滚动到顶部，不填默认为true")])],-1),T=(0,n._)("tr",null,[(0,n._)("td",null,"resetTotalData"),(0,n._)("td",null,[(0,n._)("p",{style:{color:"red"}},"(建议使用v-model代替:list.sync，则无需调用此方法)"),(0,n.Uk)("重新设置列表数据，调用此方法不会影响pageNo和pageSize，也不会触发请求。适用场景：当需要删除列表中某一项时，将删除对应项后的数组通过此方法传递给z-paging。"),(0,n._)("p",{style:{color:"red"}},"(当出现类似的需要修改列表数组的场景时，请使用此方法，请勿直接修改page中:list.sync绑定的数组)")]),(0,n._)("td",null,"修改后的列表数组")],-1),B=(0,n._)("tr",null,[(0,n._)("td",null,"getVersion"),(0,n._)("td",null,"获取当前版本号"),(0,n._)("td",null,"-")],-1),S=(0,n._)("td",null,"setListSpecialEffects",-1),C=(0,n._)("td",null,"设置nvue List的specialEffects",-1),N=(0,n.Uk)("参见"),P={href:"https://uniapp.dcloud.io/component/list?id=listsetspecialeffects",target:"_blank",rel:"noopener noreferrer"},I=(0,n.Uk)("https://uniapp.dcloud.io/component/list?id=listsetspecialeffects"),L={render:function(l,t){const e=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.iD)(n.HY,null,[o,(0,n._)("table",null,[u,(0,n._)("tbody",null,[d,r,_,a,i,s,p,c,k,g,U,h,b,m,y,v,f,w,z,x,T,B,(0,n._)("tr",null,[S,C,(0,n._)("td",null,[N,(0,n._)("a",P,[I,(0,n.Wm)(e)])])])])])],64)}}}}]);