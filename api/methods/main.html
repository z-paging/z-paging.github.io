<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Methods | z-paging文档</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/logo.png">
    <meta name="description" content="z-paging文档">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta name="Keywords" content="z-paging,uniapp,分页,下拉刷新,加载更多,虚拟列表">
    
    <link rel="preload" href="/assets/css/0.styles.9fec952e.css" as="style"><link rel="preload" href="/assets/js/app.69a655dc.js" as="script"><link rel="preload" href="/assets/js/2.9867264a.js" as="script"><link rel="preload" href="/assets/js/10.ef5186d4.js" as="script"><link rel="preload" href="/assets/js/3.e0daafed.js" as="script"><link rel="prefetch" href="/assets/js/11.bb6840a8.js"><link rel="prefetch" href="/assets/js/12.85fe807f.js"><link rel="prefetch" href="/assets/js/13.4b6add11.js"><link rel="prefetch" href="/assets/js/14.7ee77999.js"><link rel="prefetch" href="/assets/js/15.696caae6.js"><link rel="prefetch" href="/assets/js/16.6097f4ce.js"><link rel="prefetch" href="/assets/js/17.ab8beeb1.js"><link rel="prefetch" href="/assets/js/18.8f9fb8cf.js"><link rel="prefetch" href="/assets/js/19.b51b8658.js"><link rel="prefetch" href="/assets/js/20.83f11f7f.js"><link rel="prefetch" href="/assets/js/21.bf3f84a3.js"><link rel="prefetch" href="/assets/js/22.7e745e1c.js"><link rel="prefetch" href="/assets/js/23.a8e63771.js"><link rel="prefetch" href="/assets/js/24.da8b2b95.js"><link rel="prefetch" href="/assets/js/25.ea9905b9.js"><link rel="prefetch" href="/assets/js/26.ca240714.js"><link rel="prefetch" href="/assets/js/27.bba50e75.js"><link rel="prefetch" href="/assets/js/28.2bdb4868.js"><link rel="prefetch" href="/assets/js/29.5822450f.js"><link rel="prefetch" href="/assets/js/30.5804ca4f.js"><link rel="prefetch" href="/assets/js/31.6805018f.js"><link rel="prefetch" href="/assets/js/32.2e092df4.js"><link rel="prefetch" href="/assets/js/33.608e8ce9.js"><link rel="prefetch" href="/assets/js/34.6bcca566.js"><link rel="prefetch" href="/assets/js/35.5fb38a94.js"><link rel="prefetch" href="/assets/js/36.d506f9d8.js"><link rel="prefetch" href="/assets/js/37.f772b3f5.js"><link rel="prefetch" href="/assets/js/38.d43871e8.js"><link rel="prefetch" href="/assets/js/39.c32bedb0.js"><link rel="prefetch" href="/assets/js/4.5551e9fa.js"><link rel="prefetch" href="/assets/js/40.5f3855f8.js"><link rel="prefetch" href="/assets/js/41.168763c2.js"><link rel="prefetch" href="/assets/js/42.99409075.js"><link rel="prefetch" href="/assets/js/43.785781d6.js"><link rel="prefetch" href="/assets/js/44.15a87e26.js"><link rel="prefetch" href="/assets/js/45.78b8cb19.js"><link rel="prefetch" href="/assets/js/46.c9e78525.js"><link rel="prefetch" href="/assets/js/47.cba3bfe5.js"><link rel="prefetch" href="/assets/js/48.afdb166a.js"><link rel="prefetch" href="/assets/js/49.46cfbccd.js"><link rel="prefetch" href="/assets/js/5.314fecc8.js"><link rel="prefetch" href="/assets/js/50.f6b9e2db.js"><link rel="prefetch" href="/assets/js/51.bf41c1f9.js"><link rel="prefetch" href="/assets/js/52.1ca5259c.js"><link rel="prefetch" href="/assets/js/6.a5ccbd1b.js"><link rel="prefetch" href="/assets/js/7.5fc6145b.js"><link rel="prefetch" href="/assets/js/8.e794a07c.js"><link rel="prefetch" href="/assets/js/9.3c9da14c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9fec952e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/title-logo.png" alt="z-paging文档" class="logo"> <span class="site-name can-hide">z-paging文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/start/example-download.html" class="nav-link">
  示例项目下载
</a></div><div class="nav-item"><a href="https://ext.dcloud.net.cn/plugin?id=3935" target="_blank" rel="noopener noreferrer" class="nav-link external">
  插件市场
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SmileZXLee/uni-z-paging" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://zxlee.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/start/example-download.html" class="nav-link">
  示例项目下载
</a></div><div class="nav-item"><a href="https://ext.dcloud.net.cn/plugin?id=3935" target="_blank" rel="noopener noreferrer" class="nav-link external">
  插件市场
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SmileZXLee/uni-z-paging" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://zxlee.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/start/intro.html" class="sidebar-link">介绍</a></li><li><a href="/start/demo.html" class="sidebar-link">在线演示</a></li><li><a href="/start/feedback-group.html" class="sidebar-link">反馈群</a></li><li><a href="/start/install.html" class="sidebar-link">安装</a></li><li><a href="/start/teaching.html" class="sidebar-link">教学</a></li><li><a href="/start/use.html" class="sidebar-link">使用示例</a></li><li><a href="/start/common-problem.html" class="sidebar-link">常见问题</a></li><li><a href="/start/migration-to-vue3.html" class="sidebar-link">从vue2迁移到vue3</a></li><li><a href="https://ext.dcloud.net.cn/plugin?id=3935&amp;update_log" target="_blank" rel="noopener noreferrer" class="sidebar-link">版本记录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/start/upgrade-guide.html" class="sidebar-link">版本差异</a></li><li><a href="/start/mini.html" class="sidebar-link">mini版</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>功能模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/module/common.html" class="sidebar-link">基础模块(数据处理、页面滚动、本地分页、布局设置)</a></li><li><a href="/module/refresher.html" class="sidebar-link">下拉刷新模块</a></li><li><a href="/module/load-more.html" class="sidebar-link">底部加载更多模块</a></li><li><a href="/module/empty.html" class="sidebar-link">空数据与加载失败模块</a></li><li><a href="/module/loading.html" class="sidebar-link">全屏Loading模块</a></li><li><a href="/module/back-to-top.html" class="sidebar-link">返回顶部按钮模块</a></li><li><a href="/module/virtual-list.html" class="sidebar-link">虚拟列表&amp;内置列表模块</a></li><li><a href="/module/chat-record-mode.html" class="sidebar-link">聊天记录模式模块</a></li><li><a href="/module/scroll.html" class="sidebar-link">列表滚动模块</a></li><li><a href="/module/nvue.html" class="sidebar-link">nvue模块</a></li><li><a href="/module/i18n.html" class="sidebar-link">i18n国际化模块</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Props</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/api/slot/main.html" class="sidebar-link">Slots</a></li><li><a href="/api/methods/main.html" aria-current="page" class="active sidebar-link">Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/methods/main.html#数据刷新-处理方法" class="sidebar-link">数据刷新&amp;处理方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#下拉刷新相关方法" class="sidebar-link">下拉刷新相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#底部加载更多相关方法" class="sidebar-link">底部加载更多相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#页面滚动-布局相关方法" class="sidebar-link">页面滚动&amp;布局相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#虚拟列表相关方法" class="sidebar-link">虚拟列表相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#本地分页相关方法" class="sidebar-link">本地分页相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#聊天记录模式相关方法" class="sidebar-link">聊天记录模式相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#滚动到指定位置方法" class="sidebar-link">滚动到指定位置方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#nvue独有方法" class="sidebar-link">nvue独有方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#缓存相关方法" class="sidebar-link">缓存相关方法</a></li><li class="sidebar-sub-header"><a href="/api/methods/main.html#获取版本号方法" class="sidebar-link">获取版本号方法</a></li></ul></li><li><a href="/api/events/main.html" class="sidebar-link">Events</a></li><li><a href="/api/sub-components/main.html" class="sidebar-link">公用子组件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h3> <div class="custom-block tip"><p class="custom-block-title">调用方式</p> <p>假设给z-paging设置ref=&quot;paging&quot;，则通过<code>this.$refs.paging.xxx()</code>方式调用</p></div> <div class="custom-block danger"><p class="custom-block-title">注意</p> <p>在Page的onLoad()方法中无法同步获取this.$refs，请加一个setTimeOut延时1毫秒或nextTick再调用(默认会在页面加载时自动调用reload()无须手动调用)</p></div> <h2 id="数据刷新-处理方法"><a href="#数据刷新-处理方法" class="header-anchor">#</a> 数据刷新&amp;处理方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>reload</td> <td>重新加载分页数据，pageNo恢复为默认值，相当于下拉刷新的效果<p>(触发reload后相关配置可查阅<a href="/api/props/reload.html">reload相关配置</a>)</p></td> <td><code>参数1(非必填)</code>:(传true或false，默认为false)reload时是否展示下拉刷新动画，默认为否<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>refresh <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.0.4</span></td> <td>刷新列表数据，pageNo和pageSize不会重置，列表数据会重新从服务端获取。<p style="color:red;">(必须保证@query绑定的方法中的pageNo和pageSize和传给服务端的一致)</p></td> <td><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>:<code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>refreshToPage <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.9</span></td> <td>刷新列表数据至指定页。<p style="color:red;">(必须保证@query绑定的方法中的pageNo和pageSize和传给服务端的一致)</p></td> <td><code>参数1(必填)</code>:目标页数，例如目标页数=5时则代表刷新列表至第5页，此时pageNo会变为5，列表会展示前5页的数据<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>:<code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>complete</td> <td>请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理，会自动判断是否有更多数据(当通过complete传进去的数组长度小于pageSize时，则判定为没有更多了)。<p style="color:red;">(全局错误处理：当请求失败时，也必须调用complete，可在封装的全局网络请求错误的地方书写：<code>uni.$emit('z-paging-error-emit','请求失败原因(可选，v2.6.3之后支持)');</code>  即可将当前加载中状态的z-paging设置为请求失败状态，无需在每个页面中写<code>this.$refs.paging.complete(false)</code>)</p><p style="color:red;"><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.1.9</span>(全局complete：当请求成功时，可在封装的全局网络请求成功的地方书写：<code>uni.$emit('z-paging-complete-emit',请求结果数组);</code>  则无需在每个页面中写<code>this.$refs.paging.complete(请求结果数组)</code>)。对于下方的<code>completeByXXX</code>，需使用<code>uni.$emit('z-paging-complete-emit',{type:xxx,list:请求结果数组,rule:对应方法completeByXXX中参数2的值});</code>，例如，需要全局表示<code>completeByTotal</code>则写法为<code>uni.$emit('z-paging-complete-emit',{type:'total',list:请求结果数组,rule:total的值})</code>。附type枚举值：'total'、'nomore'、'key'。<br>ps：若当前页面(组件示例)中调用了z-paging的<code>complete</code>及相关方法，则当次全局complete将失效，以避免重复添加数据的问题</p><p style="color:red;font-weight:bold;">(特别注意：全局emit的规则为：当z-paging接收到错误或完成的全局emit事件时，若当前状态为&quot;加载中&quot;，则处理对应的错误或完成事件。因此若您的项目可能存在多个z-paging实例同时处于&quot;加载中&quot;状态，不建议使用全局emit处理，否则将可能导致数据错乱！)</p></td> <td><code>参数1(必填)</code>:请求结果数组；<br><code>参数2(非必填)</code>:是否请求成功，不填默认为true。<br><p style="color:red;">请求失败时直接调用：<code>this.$refs.paging.complete(false)</code>; 即可；如果只是想表达请求结束，则调用：<code>this.$refs.paging.complete()</code>; 即可</p><br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>completeByTotal <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.0.6</span></td> <td>【通过total判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理<p style="color:red;">(将此方法替换<code>complete</code>方法即可，此方法为<code>complete</code>方法的功能扩展，遵循<code>complete</code>原有规则)</p></td> <td><code>参数1(必填)</code>:请求结果数组；<br><code>参数2(必填)</code>:total(列表总长度)<br><code>参数3(非必填)</code>:是否请求成功，不填默认为true<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>completeByNoMore <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>1.9.2</span></td> <td>【自行判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理<p style="color:red;">(将此方法替换<code>complete</code>方法即可，此方法为<code>complete</code>方法的功能扩展，遵循<code>complete</code>原有规则)</p></td> <td><code>参数1(必填)</code>:请求结果数组；<br><code>参数2(必填)</code>:是否没有更多数据，若为true则代表没有更多数据了(<code>v2.5.1</code>之前的版本与此相反)<br><code>参数3(非必填)</code>:是否请求成功，不填默认为true<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>completeByError <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.6.3</span></td> <td>【通过方法传入请求失败原因】请求失败调用此方法，将请求失败原因传递给z-paging展示<p style="color:red;">(将此方法替换<code>complete(false)</code>方法即可，此方法为<code>complete(false)</code>方法的功能扩展，遵循<code>complete(false)</code>原有规则)</p></td> <td><code>参数1(必填)</code>:请求失败原因；<br><code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>completeByKey <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>1.6.4</span></td> <td>【保证数据一致】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理<p style="color:red;">(关于数据一致性，请查看demo中<code>consistency-demo.vue</code>文件)</p><p style="color:red;">(将此方法替换<code>complete</code>方法即可，此方法为<code>complete</code>方法的功能扩展，遵循<code>complete</code>原有规则)</p></td> <td><code>参数1(必填)</code>:请求结果数组；<br><code>参数2(必填)</code>:dataKey，需与:data-key绑定的一致；<br><code>参数3(非必填)</code>:是否请求成功，不填默认为true<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】</td></tr> <tr><td>clear <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.1.0</span></td> <td>清空分页数据，pageNo恢复为默认值。</td> <td>-</td></tr> <tr><td>addDataFromTop</td> <td>从顶部添加数据，不会影响分页的pageNo和pageSize</td> <td><code>参数1(必填)</code>:需要添加的数据，可以是一条数据或一组数据；<br><code>参数2(非必填)</code>:是否滚动到顶部，不填默认为true；<br><code>参数3(非必填)</code>:是否使用动画滚动到顶部，不填默认为true</td></tr> <tr><td>resetTotalData <span class="badge error" style="vertical-align:top;" data-v-15b7b770>不推荐</span></td> <td><p style="color:red;">(建议使用v-model代替:list.sync，则无需调用此方法)</p>重新设置列表数据，调用此方法不会影响pageNo和pageSize，也不会触发请求。适用场景：当需要删除列表中某一项时，将删除对应项后的数组通过此方法传递给z-paging。</td> <td><code>参数1(必填)</code>:修改后的列表数组</td></tr></tbody></table> <h2 id="下拉刷新相关方法"><a href="#下拉刷新相关方法" class="header-anchor">#</a> 下拉刷新相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>endRefresh <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.1.0</span></td> <td>终止下拉刷新状态</td> <td>-</td></tr> <tr><td>updateCustomRefresherHeight <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.6.1</span></td> <td>手动更新自定义下拉刷新view高度，常用于某些情况下使用<code>slot=&quot;refresher&quot;</code>插入的view高度未能正确计算导致异常时手动更新其高度</td> <td>-</td></tr></tbody></table> <h2 id="底部加载更多相关方法"><a href="#底部加载更多相关方法" class="header-anchor">#</a> 底部加载更多相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>doLoadMore</td> <td>手动触发上拉加载更多(非必须，可依据具体需求使用，例如当z-paging未确定高度时，内部的scroll-view会无限增高，此时z-paging无法得知是否滚动到底部，您可以在页面的<code>onReachBottom</code>中手动调用此方法触发上拉加载更多)</td> <td><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.3.0</span> <code>参数1(非必填)</code>:触发加载更多的来源类型，有<code>click</code>和<code>toBottom</code>两种类型，分别代表由点击事件触发和由滚动到底部触发，默认为<code>click</code></td></tr></tbody></table> <h2 id="页面滚动-布局相关方法"><a href="#页面滚动-布局相关方法" class="header-anchor">#</a> 页面滚动&amp;布局相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>updatePageScrollTop</td> <td>当使用页面滚动并且自定义下拉刷新时，请在页面的<code>onPageScroll</code>中调用此方法，告知z-paging当前的pageScrollTop，否则会导致在任意位置都可以下拉刷新(若引入了mixins，则不需要调用此方法)</td> <td><code>参数1(必填)</code>:从page的onPageScroll中获取的scrollTop</td></tr> <tr><td>updatePageScrollTopHeight</td> <td>在使用页面滚动并且设置了<code>slot=&quot;top&quot;</code>时，默认初次加载会自动获取其高度，并使内部容器下移，当<code>slot=&quot;top&quot;</code>的view高度动态改变时，在其高度需要更新时调用此方法</td> <td>-</td></tr> <tr><td>updatePageScrollBottomHeight</td> <td>在使用页面滚动并且设置了<code>slot=&quot;bottom&quot;</code>时，默认初次加载会自动获取其高度，并使内部容器下移，当<code>slot=&quot;bottom&quot;</code>的view高度动态改变时，在其高度需要更新时调用此方法</td> <td>-</td></tr> <tr><td>updateLeftAndRightWidth <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.3.5</span></td> <td>更新<code>slot=&quot;left&quot;</code>和<code>slot=&quot;right&quot;</code>宽度，当<code>slot=&quot;left&quot;</code>或<code>slot=&quot;right&quot;</code>宽度动态改变后调用</td> <td></td></tr> <tr><td>updateFixedLayout <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.6.5</span></td> <td>更新<code>fixed</code>模式下<code>z-paging</code>的布局，在<code>onShow</code>时候调用，以修复在<code>iOS+h5+tabbar+fixed+底部有安全区域</code>的设备中从tabbar页面跳转到无tabbar页面后返回，底部有一段空白区域的问题</td> <td>-</td></tr></tbody></table> <h2 id="虚拟列表相关方法"><a href="#虚拟列表相关方法" class="header-anchor">#</a> 虚拟列表相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>doInsertVirtualListItem <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.9</span></td> <td>在使用动态高度虚拟列表时，若在列表数组中需要插入某个item，需要调用此方法</td> <td><code>参数1(必填)</code>:插入的数据项<br><code>参数2(必填)</code>:插入的cell位置，若为2，则插入的item在原list的index=1之后，从0开始</td></tr> <tr><td>didUpdateVirtualListCell <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.4.0</span></td> <td>在使用动态高度虚拟列表时，手动更新指定cell的缓存高度(当cell高度在初始化之后再次改变时调用)</td> <td><code>参数1(必填)</code>:需要更新的cell在列表中的位置，从0开始</td></tr> <tr><td>didDeleteVirtualListCell <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.4.0</span></td> <td>在使用动态高度虚拟列表时，若删除了列表数组中的某个item，需要调用此方法以更新高度缓存数组</td> <td><code>参数1(必填)</code>:需要更新的cell在列表中的位置，从0开始</td></tr></tbody></table> <h2 id="本地分页相关方法"><a href="#本地分页相关方法" class="header-anchor">#</a> 本地分页相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>setLocalPaging</td> <td>设置本地分页，请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging作分页处理<p style="color:red;">（若调用了此方法，则上拉加载更多时内部会自动分页，不会触发@query所绑定的事件）</p></td> <td><code>参数1(必填)</code>:请求结果数组；<br><code>参数2(非必填)</code>:是否请求成功，不填默认为true<br><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.5.3</span> <code>返回值(return)</code>: <code>Promise(resolve({totalList, noMore}), reject)</code>获取本次操作请求结束后的【总列表】和【是否有更多数据】ps：仅从服务端获取数据时候触发；本地分页时不会触发此promise</td></tr></tbody></table> <h2 id="聊天记录模式相关方法"><a href="#聊天记录模式相关方法" class="header-anchor">#</a> 聊天记录模式相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>doChatRecordLoadMore</td> <td>手动触发滚动到顶部加载更多，聊天记录模式时有效</td> <td>-</td></tr> <tr><td>addChatRecordData</td> <td>添加聊天记录，<code>use-chat-record-mode</code>为true时有效</td> <td><code>参数1(必填)</code>:需要添加的聊天数据，可以是一条数据或一组数据；<br><code>参数2(非必填)</code>:是否滚动到底部，不填默认为true；<br><code>参数3(非必填)</code>:是否使用动画滚动到底部，不填默认为true</td></tr></tbody></table> <h2 id="滚动到指定位置方法"><a href="#滚动到指定位置方法" class="header-anchor">#</a> 滚动到指定位置方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>scrollToTop</td> <td>滚动到顶部</td> <td><code>参数1(非必填)</code>:是否有动画效果，默认为是</td></tr> <tr><td>scrollToBottom</td> <td>滚动到底部</td> <td><code>参数1(非必填)</code>:是否有动画效果，默认为是</td></tr> <tr><td>scrollIntoViewById</td> <td>滚动到指定view<p style="color:red;">(vue中有效，若此方法无效，请使用<code>scrollIntoViewByNodeTop</code>)</p></td> <td><code>参数1(必填)</code>需要滚动到的view的id值，不包含&quot;#&quot;；<br><code>参数2(非必填)</code>:偏移量，单位为px，默认为0；<br><code>参数3(非必填)</code>:是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByNodeTop <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>1.7.4</span></td> <td>滚动到指定view<p style="color:red;">(vue中有效)</p></td> <td><code>参数1(必填)</code>:需要滚动的view的top值(通过uni.createSelectorQuery()获取)；<br><code>参数2(非必填)</code>:偏移量，单位为px，默认为0；<br><code>参数3(非必填)</code>:是否有动画效果，默认为否</td></tr> <tr><td>scrollToY <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.1.0</span></td> <td>滚动到指定view(与<code>scrollIntoViewByNodeTop</code>的不同之处在于，<code>scrollToY</code>传入的是view相对于屏幕的top值，而<code>scrollIntoViewByNodeTop</code>传入的top值并非是固定的，通过uni.createSelectorQuery()获取到的top会因列表滚动而改变)<p style="color:red;">(vue中有效)</p></td> <td><code>参数1(必填)</code>:需要滚动到的view的top值，单位为px；<br><code>参数2(非必填)</code>:偏移量，单位为px，默认为0；<br><code>参数3(非必填)</code>:是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByIndex</td> <td>滚动到指定view<p style="color:red;">(nvue中有效)(在nvue中的cell必须设置 :ref=&quot;`z-paging-${index}`&quot;)</p></td> <td><code>参数1(必填)</code>:需要滚动到的view的index(第几个)；<br><code>参数2(非必填)</code>:偏移量，单位为px，默认为0；<br><code>参数3(非必填)</code>:是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByView</td> <td>滚动到指定view<p style="color:red;">(nvue中有效)</p></td> <td><code>参数1(必填)</code>:需要滚动到的view(通过<code>this.$refs.xxx</code>获取)；<br><code>参数2(非必填)</code>:偏移量，单位为px，默认为0；<br><code>参数3(非必填)</code>:是否有动画效果，默认为否</td></tr></tbody></table> <h2 id="nvue独有方法"><a href="#nvue独有方法" class="header-anchor">#</a> nvue独有方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>setListSpecialEffects<code>或</code><br>setSpecialEffects <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.0.4</span></td> <td>设置nvue List的specialEffects</td> <td><code>参数1(必填)</code>:参见<a href="https://uniapp.dcloud.io/component/list?id=listsetspecialeffects" target="_blank" rel="noopener noreferrer">https://uniapp.dcloud.io/component/list?id=listsetspecialeffects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h2 id="缓存相关方法"><a href="#缓存相关方法" class="header-anchor">#</a> 缓存相关方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>updateCache <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.3.9</span></td> <td>手动更新列表缓存数据，将自动截取v-model绑定的list中的前pageSize条覆盖缓存，请确保在list数据更新到预期结果后再调用此方法</td> <td>-</td></tr></tbody></table> <h2 id="获取版本号方法"><a href="#获取版本号方法" class="header-anchor">#</a> 获取版本号方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>getVersion</td> <td>获取当前版本号</td> <td>-</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/slot/main.html" class="prev">
        Slots
      </a></span> <span class="next"><a href="/api/events/main.html">
        Events
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.69a655dc.js" defer></script><script src="/assets/js/2.9867264a.js" defer></script><script src="/assets/js/10.ef5186d4.js" defer></script><script src="/assets/js/3.e0daafed.js" defer></script>
  </body>
</html>
