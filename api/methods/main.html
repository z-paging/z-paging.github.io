<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Methods | z-paging</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="z-paging文档">
    
    <link rel="preload" href="/assets/css/0.styles.75f4ddc5.css" as="style"><link rel="preload" href="/assets/js/app.d5c6b50b.js" as="script"><link rel="preload" href="/assets/js/2.e36123dc.js" as="script"><link rel="preload" href="/assets/js/9.8cb08381.js" as="script"><link rel="prefetch" href="/assets/js/10.17cfbe09.js"><link rel="prefetch" href="/assets/js/11.f4ce0a4f.js"><link rel="prefetch" href="/assets/js/12.0f30f0da.js"><link rel="prefetch" href="/assets/js/13.ad21a101.js"><link rel="prefetch" href="/assets/js/14.99cc7027.js"><link rel="prefetch" href="/assets/js/15.ba4e36de.js"><link rel="prefetch" href="/assets/js/16.dfedc60f.js"><link rel="prefetch" href="/assets/js/17.b46d2637.js"><link rel="prefetch" href="/assets/js/18.ae460245.js"><link rel="prefetch" href="/assets/js/19.54dff0b4.js"><link rel="prefetch" href="/assets/js/20.f6ebaf4c.js"><link rel="prefetch" href="/assets/js/21.9ceb910a.js"><link rel="prefetch" href="/assets/js/22.b3658503.js"><link rel="prefetch" href="/assets/js/23.8601b1b3.js"><link rel="prefetch" href="/assets/js/24.49a4bb01.js"><link rel="prefetch" href="/assets/js/25.9fd607d0.js"><link rel="prefetch" href="/assets/js/26.c6a139c4.js"><link rel="prefetch" href="/assets/js/27.3d62ce4a.js"><link rel="prefetch" href="/assets/js/28.55ef6b0e.js"><link rel="prefetch" href="/assets/js/29.051ec9cd.js"><link rel="prefetch" href="/assets/js/3.970d8159.js"><link rel="prefetch" href="/assets/js/30.75251248.js"><link rel="prefetch" href="/assets/js/31.2104e4de.js"><link rel="prefetch" href="/assets/js/32.0b764ea5.js"><link rel="prefetch" href="/assets/js/4.e55bc120.js"><link rel="prefetch" href="/assets/js/5.a7a924d8.js"><link rel="prefetch" href="/assets/js/6.9caa508e.js"><link rel="prefetch" href="/assets/js/7.9b213d77.js"><link rel="prefetch" href="/assets/js/8.296ac0ec.js">
    <link rel="stylesheet" href="/assets/css/0.styles.75f4ddc5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">z-paging</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://ext.dcloud.net.cn/plugin?id=3935" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在插件市场查看
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SmileZXLee/uni-z-paging" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://ext.dcloud.net.cn/plugin?id=3935" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在插件市场查看
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/SmileZXLee/uni-z-paging" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/start/about.html" class="sidebar-link">介绍</a></li><li><a href="/start/demo.html" class="sidebar-link">在线演示</a></li><li><a href="/start/qq-group.html" class="sidebar-link">反馈QQ群</a></li><li><a href="/start/install.html" class="sidebar-link">安装</a></li><li><a href="/start/teaching.html" class="sidebar-link">教学</a></li><li><a href="/start/use.html" class="sidebar-link">基本使用</a></li><li><a href="/start/notice.html" class="sidebar-link">注意事项</a></li><li><a href="https://ext.dcloud.net.cn/plugin?id=3935&amp;update_log" target="_blank" rel="noopener noreferrer" class="sidebar-link">版本记录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Props</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/props/global-config.html" class="sidebar-link">全局配置</a></li><li><a href="/api/props/common.html" class="sidebar-link">常规配置</a></li><li><a href="/api/props/reload.html" class="sidebar-link">reload相关配置</a></li><li><a href="/api/props/refresher.html" class="sidebar-link">下拉刷新配置</a></li><li><a href="/api/props/loading-more.html" class="sidebar-link">底部加载更多配置</a></li><li><a href="/api/props/empty.html" class="sidebar-link">空数据与加载失败图配置</a></li><li><a href="/api/props/loading.html" class="sidebar-link">全屏Loading配置</a></li><li><a href="/api/props/back-to-top.html" class="sidebar-link">返回顶部按钮配置</a></li><li><a href="/api/props/local-paging.html" class="sidebar-link">本地分页配置</a></li><li><a href="/api/props/chat-record-mode.html" class="sidebar-link">聊天记录模式配置</a></li><li><a href="/api/props/scroll-view.html" class="sidebar-link">scroll-view相关配置</a></li><li><a href="/api/props/nvue.html" class="sidebar-link">nvue独有配置</a></li><li><a href="/api/props/i18n.html" class="sidebar-link">i18n配置</a></li><li><a href="/api/props/z-index.html" class="sidebar-link">z-index配置</a></li><li><a href="/api/props/other.html" class="sidebar-link">其他配置</a></li></ul></section></li><li><a href="/api/slot/main.html" class="sidebar-link">Slot</a></li><li><a href="/api/methods/main.html" aria-current="page" class="active sidebar-link">Methods</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/api/events/main.html" class="sidebar-link">Events</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h3> <div class="custom-block tip"><p class="custom-block-title">调用方式</p> <p>假设给z-paging设置ref=&quot;paging&quot;，则通过<code>this.$refs.paging.xxx()</code>方式调用</p></div> <div class="custom-block danger"><p class="custom-block-title">注意</p> <p>在Page的onLoad()方法中无法同步获取this.$refs，请加一个setTimeOut延时1毫秒或nextTick再调用(默认会在页面加载时自动调用reload()无须手动调用)</p></div> <table><thead><tr><th>方法名</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>reload</td> <td>重新加载分页数据，pageNo恢复为默认值，相当于下拉刷新的效果</td> <td>(传true或false，默认为false)reload时是否展示下拉刷新动画，默认为否</td></tr> <tr><td>complete或<br>end</td> <td>请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理<p style="color:red;">(全局错误处理：当请求失败时，也必须调用complete，可在封装的网络请求错误的地方书写：<code>uni.$emit('z-paging-error-emit');</code>  即可将当前加载中状态的z-paging设置为请求失败状态)</p></td> <td>参数1(必填):请求结果数组；<br>参数2(非必填):是否请求成功，不填默认为true。<br><p style="color:red;">请求失败时直接调用：this.$refs.paging.complete(false); 即可；如果只是想表达请求结束，则调用：this.$refs.paging.complete(); 即可</p></td></tr> <tr><td>completeByTotalCount或<br>endByTotalCount</td> <td>【通过totalCount判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理</td> <td>参数1(必填):请求结果数组；<br>参数2(必填):totalCount(列表总数)<br>参数3(非必填):是否请求成功，不填默认为true</td></tr> <tr><td>completeByNoMore或<br>endByNoMore</td> <td>【自行判断是否有更多数据】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理</td> <td>参数1(必填):请求结果数组；<br>参数2(必填):是否有更多数据，若为true则可以继续滚动到底部加载更多，但如果在某个时刻参数1传入了空数组，也代表着没有更多数据了；<br>参数3(非必填):是否请求成功，不填默认为true</td></tr> <tr><td>completeByKey或<br>endByKey</td> <td>【保证数据一致】请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging处理<p style="color:red;">(关于数据一致性，请查看demo中<code>consistency-demo.vue</code>文件)</p></td> <td>参数1(必填):请求结果数组；<br>参数2(必填):dataKey，需与:data-key绑定的一致；<br>参数3(非必填):是否请求成功，不填默认为true</td></tr> <tr><td>clean</td> <td>清空分页数据，pageNo恢复为默认值。</td> <td>-</td></tr> <tr><td>setLocalPaging</td> <td>设置本地分页，请求结束(成功或者失败)调用此方法，将请求的结果传递给z-paging作分页处理<p style="color:red;">（若调用了此方法，则上拉加载更多时内部会自动分页，不会触发@query所绑定的事件）</p></td> <td>参数1(必填):请求结果数组；<br>参数2(非必填):是否请求成功，不填默认为true</td></tr> <tr><td>doLoadMore</td> <td>手动触发上拉加载更多(非必须，可依据具体需求使用，例如当z-paging未确定高度时，内部的scroll-view会无限增高，此时z-paging无法得知是否滚动到底部，您可以在页面的<code>onReachBottom</code>中手动调用此方法触发上拉加载更多) <p style="color:red;">ps:<code>use-page-scroll</code>需要设置为true</p></td> <td>-</td></tr> <tr><td>doChatRecordLoadMore</td> <td>手动触发滚动到顶部加载更多，聊天记录模式时有效</td> <td>-</td></tr> <tr><td>scrollToTop</td> <td>滚动到顶部</td> <td>参数1(非必填):是否有动画效果，默认为是</td></tr> <tr><td>scrollToBottom</td> <td>滚动到底部</td> <td>参数1(非必填):是否有动画效果，默认为是</td></tr> <tr><td>scrollIntoViewById</td> <td>滚动到指定view<p style="color:red;">(vue中有效，若此方法无效，请使用<code>scrollIntoViewByNodeTop</code>)</p></td> <td>参数1(必填):需要滚动的view的id值，不包含&quot;#&quot;；<br>参数2(非必填):偏移量，单位为px，默认为0；<br>参数3(非必填):是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByNodeTop</td> <td>滚动到指定view<p style="color:red;">(vue中有效)</p></td> <td>参数1(必填):需要滚动的view的top值(通过uni.createSelectorQuery()获取)；<br>参数2(非必填):偏移量，单位为px，默认为0；<br>参数3(非必填):是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByIndex</td> <td>滚动到指定view<p style="color:red;">(nvue中有效)(在nvue中的cell必须设置 :ref=&quot;<code>z-paging-${index}</code>&quot;)</p></td> <td>参数1(必填):需要滚动的view的index(第几个)；<br>参数2(非必填):偏移量，单位为px，默认为0；<br>参数3(非必填):是否有动画效果，默认为否</td></tr> <tr><td>scrollIntoViewByView</td> <td>滚动到指定view<p style="color:red;">(nvue中有效)</p></td> <td>参数1(必填):需要滚动的view(通过<code>this.$refs.xxx</code>获取)；<br>参数2(非必填):偏移量，单位为px，默认为0；<br>参数3(非必填):是否有动画效果，默认为否</td></tr> <tr><td>updatePageScrollTop</td> <td>当使用页面滚动(z-paging不固定高度)并且自定义下拉刷新时，请在页面的onPageScroll中调用此方法，告知z-paging当前的pageScrollTop，否则会导致在任意位置都可以下拉刷新</td> <td>从page的onPageScroll中获取的scrollTop</td></tr> <tr><td>updatePageScrollTopHeight</td> <td>在nvue中或使用页面滚动并且设置了slot=&quot;top&quot;时，默认初次加载会自动获取其高度，并使内部容器下移，当slot=&quot;top&quot;的view高度动态改变时，在其高度需要更新时调用此方法</td> <td>-</td></tr> <tr><td>updatePageScrollBottomHeight</td> <td>在nvue中或使用页面滚动并且设置了slot=&quot;bottom&quot;时，默认初次加载会自动获取其高度，并使内部容器下移，当slot=&quot;bottom&quot;的view高度动态改变时，在其高度需要更新时调用此方法</td> <td>-</td></tr> <tr><td>addChatRecordData</td> <td>添加聊天记录，<code>use-chat-record-mode</code>为true时有效</td> <td>参数1(必填):需要添加的聊天数据，可以是一条数据或一组数据；<br>参数2(非必填):是否滚动到底部，不填默认为true；<br>参数3(非必填):是否使用动画滚动到底部，不填默认为true</td></tr> <tr><td>addDataFromTop</td> <td>从顶部添加数据，不会影响分页的pageNo和pageSize</td> <td>参数1(必填):需要添加的数据，可以是一条数据或一组数据；<br>参数2(非必填):是否滚动到顶部，不填默认为true；<br>参数3(非必填):是否使用动画滚动到顶部，不填默认为true</td></tr> <tr><td>resetTotalData</td> <td><p style="color:red;">(建议使用v-model代替:list.sync，则无需调用此方法)</p>重新设置列表数据，调用此方法不会影响pageNo和pageSize，也不会触发请求。适用场景：当需要删除列表中某一项时，将删除对应项后的数组通过此方法传递给z-paging。<p style="color:red;">(当出现类似的需要修改列表数组的场景时，请使用此方法，请勿直接修改page中:list.sync绑定的数组)</p></td> <td>修改后的列表数组</td></tr> <tr><td>getVersion</td> <td>获取当前版本号</td> <td>-</td></tr> <tr><td>setListSpecialEffects</td> <td>设置nvue List的specialEffects</td> <td>参见<a href="https://uniapp.dcloud.io/component/list?id=listsetspecialeffects" target="_blank" rel="noopener noreferrer">https://uniapp.dcloud.io/component/list?id=listsetspecialeffects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/slot/main.html" class="prev">
        Slot
      </a></span> <span class="next"><a href="/api/events/main.html">
        Events
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d5c6b50b.js" defer></script><script src="/assets/js/2.e36123dc.js" defer></script><script src="/assets/js/9.8cb08381.js" defer></script>
  </body>
</html>
